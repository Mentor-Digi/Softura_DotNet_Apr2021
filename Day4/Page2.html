<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script>
        //var user = {
        //    username: "Ramu",
        //    password:"1234"
        //}
        //console.log(user);
        //var users = [12, 34, 56, 89, 12]//number array
        //for (var i = 0; i < users.length; i++) {//for loop(init;cond;upd)
        //    console.log(users[i])
        //}
        //var users = ["Ramu","Somu","Bimu"]//string array
        //for (var i = 0; i < users.length; i++) {//for loop(init;cond;upd)
        //    console.log(users[i])
        //}
        //Global Scope - available for all the functions
        var users = [
            {
                username: "Ramu",
                password:"1234"
            },
            {
                username: "Somu",
                password: "1111"
            },
            {
                username: "Komu",
                password: "4321"
            }
        ]//object array
        //for (var i = 0; i < users.length; i++) {//for loop(init;cond;upd)
        //    console.log(users[i])
        //}
        var customer = {
            id: "C001",
            name: "Ramu",
            phone:"1234567890"
        }//id,name and phone are properties of customer object
        customer.age = 31;
        console.log(customer.age);

        function addInitialRecords() {
            var myTable = document.getElementById("tblUsers");
            for (var i = 0; i < users.length; i++) {
                var row = myTable.insertRow(i+1);//0th row is heading row so i+1th row like a tr
                var cellUN = row.insertCell(0);//add 1st column like td
                var cellPass = row.insertCell(1);//add 1st column like td
                cellUN.innerHTML = users[i].username;
                cellPass.innerHTML = users[i].password
            }
        }

        function checkLogin() {
            var username = document.getElementById("txtUsername").value
            var password = document.getElementById("txtPassword").value
            var flag = false;
            for (var i = 0; i < users.length; i++) {
                if (users[i].username == username && users[i].password == password) {
                    alert("Welcome");
                    flag = true;
                    break;
                    //return;//return the control back to the calling line
                }
            }
            if(flag!=true)
                alert("Invalid username or password")
        }
        function registerUser() {
            var username = document.getElementById("txtUsername").value
            var password = document.getElementById("txtPassword").value
            var myUser = {
                username: username,
                password:password
            }
            users.push(myUser);
            console.log("-----------------------------------------")
            console.log(users)
            var count = users.length;
            var myTable = document.getElementById("tblUsers");
            var row = myTable.insertRow(count);//Create a tr in the last position for the array's last value
            var cellUN = row.insertCell(0);//add 1st column
            var cellPass = row.insertCell(1);//add 2nd column
            cellUN.innerHTML = users[count-1].username;
            cellPass.innerHTML = users[count-1].password
        }
    </script>
    <style>
        div{
            width:300px;
        }
    </style>
</head>
<body>
    <div class="alert alert-primary">
        <!--onfocus="console.log('username focus')"
        onblur="console.log('username lost control - blur')"-->
        <label for="txtUsername" class="form-control">Username</label>
        <input type="text" class="form-control" id="txtUsername" />
        <label for="txtPassword" class="form-control">Password</label>
        <input type="text" class="form-control" id="txtPassword" />
        <button class="btn btn-success" onclick="registerUser()">Login</button>
        <button class="btn btn-danger">Reset</button>
        <article class="alert alert-success" ondblclick="console.log('you double clicked the article')">
            Double Click me !!!!!
        </article>
    </div>
    <button class="btn btn-danger" onclick="addInitialRecords()">Set Table</button>
    <div>
        <table id="tblUsers" border="1">
            <tr>
                <th>Username</th>
                <th>Password</th>
            </tr>
        </table>
    </div>
</body>
</html>